"use strict";(self.webpackChunkreact_homework=self.webpackChunkreact_homework||[]).push([[281],{2281:function(e,r,s){s.r(r),s.d(r,{default:function(){return P}});var a=s(5861),t=s(885),n=s(7757),c=s.n(n),l=s(2791),o="UserOrderForm_userOrderForm__Zshtv",u="UserOrderForm_userOrderWrapper__xZksX",i="UserOrderForm_userOrderForm__label__CrXpu",m="UserOrderForm_userOrderForm__text__jRCfI",d="UserOrderForm_userOrderForm__input__5MzEm",p="UserOrderForm_userOrderForm__button__QX7mp",_="UserOrderForm_userBasketWrapper__Wcj5e",h="UserOrderForm_totalPrice__Xp6CB",x=s(2490),j=s(2722),N=s(5048),f="ProductBasketItem_productList__item__rCxum",b="ProductBasketItem_itemwraper__Zhzhc",v="ProductBasketItem_itemImage__gf7XW",g="ProductBasketItem_descriptionWrapper__eU2s8",k="ProductBasketItem_productList__text__TGECq",O="ProductBasketItem_productList__input__zukxv",F="ProductBasketItem_productList__button__4OPlm",C=s(184),Z=function(e){var r=e.id,s=e.name,a=e.price,n=e.img,c=e.count,o=(0,l.useState)(c),u=(0,t.Z)(o,2),i=u[0],m=u[1],d=(0,N.I0)();return(0,l.useEffect)((function(){d((0,j.jr)({id:r,count:i}))}),[d,r,i]),(0,C.jsx)("li",{className:f,children:(0,C.jsxs)("div",{className:b,children:[(0,C.jsx)("img",{className:v,src:n,alt:"",width:200}),(0,C.jsxs)("div",{className:g,children:[(0,C.jsx)("p",{className:k,children:"".concat(s," ")}),(0,C.jsx)("p",{className:k,children:"".concat(a*i," $")})]}),(0,C.jsxs)("div",{className:g,children:[(0,C.jsx)("input",{className:O,type:"number",name:"sum",min:"1",max:"150",value:i,onChange:function(e){m(e.currentTarget.value)}}),(0,C.jsx)("button",{className:F,type:"button",onClick:function(){return d((0,j.O4)({id:r}))},children:"delete"})]})]})})},I=function(){var e=(0,l.useState)(""),r=(0,t.Z)(e,2),s=r[0],n=r[1],f=(0,l.useState)(""),b=(0,t.Z)(f,2),v=b[0],g=b[1],k=(0,l.useState)(""),O=(0,t.Z)(k,2),F=O[0],I=O[1],P=(0,l.useState)(""),w=(0,t.Z)(P,2),y=w[0],B=w[1],U=(0,l.useState)(""),S=(0,t.Z)(U,2),z=S[0],A=S[1],W=(0,N.v9)(j.mf);console.log("userProductsInBasket",W);var X=(0,N.I0)(),q=(0,x.$S)(),E=(0,t.Z)(q,1)[0],L=function(e){var r=e.currentTarget,s=r.name,a=r.value;switch(s){case"name":n(a);break;case"email":g(a);break;case"phone":I(a);break;case"adress":B(a)}},T=function(){var e=(0,a.Z)(c().mark((function e(r){var a,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a={contact:{name:s,email:v,phone:F,adress:y},order:W,totalPrice:D},console.log("newOrder",a),e.next=6,E(a);case 6:t=e.sent,console.log(t),n=t.data.responseData.orderNumber,A(n),$();case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),D=W.reduce((function(e,r){return Number(e)+Number(r.price)*Number(r.count)}),[0]);console.log("totalprice",D);var $=function(){n(""),g(""),I(""),B(""),X((0,j.DI)([]))};return(0,C.jsxs)(C.Fragment,{children:[!z&&(0,C.jsxs)("form",{className:o,onSubmit:T,children:[(0,C.jsxs)("div",{className:u,children:[(0,C.jsxs)("label",{className:i,children:[(0,C.jsx)("span",{className:m,children:"Name"}),(0,C.jsx)("input",{className:d,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:s,onChange:L,placeholder:"Name"})]}),(0,C.jsxs)("label",{className:i,children:[(0,C.jsx)("span",{className:m,children:"Email"}),(0,C.jsx)("input",{className:d,type:"text",name:"email",title:"email ",value:v,onChange:L,placeholder:"example@gmail.com",required:!0})]}),(0,C.jsxs)("label",{className:i,children:[(0,C.jsx)("span",{className:m,children:"Phone"}),(0,C.jsx)("input",{className:d,type:"text",name:"phone",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:F,onChange:L,required:!0,placeholder:"+"})]}),(0,C.jsxs)("label",{className:i,children:[(0,C.jsx)("span",{className:m,children:"Adress"}),(0,C.jsx)("input",{className:d,type:"text",name:"adress",title:"adress",value:y,onChange:L,required:!0,placeholder:"city streed h\\a"})]})]}),(0,C.jsx)("ul",{className:_,children:W.map((function(e){var r=e.id,s=e.name,a=e.img,t=e.price,n=e.count;return(0,C.jsx)(Z,{id:r,name:s,price:t,img:a,count:n},r)}))}),(0,C.jsxs)("p",{className:h,children:["Total price: ",D]}),(0,C.jsx)("button",{className:p,type:"submit",children:"submit"})]}),z&&(0,C.jsxs)("h1",{children:["Your order successfull completed, number of order is ",z]})]})},P=function(){return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(I,{})})}}}]);
//# sourceMappingURL=281.5c2899d0.chunk.js.map